{"version":3,"file":"component---src-pages-category-name-installed-tsx-12048d9d17d46c25fd16.js","mappings":"+OAsBA,MAAMA,EAAkDC,IAGlD,IAHmD,KACvDC,EAAI,YACJC,GACDF,EACC,MAAM,EAAEG,IAAMC,EAAAA,EAAAA,MAERC,EAAWJ,EAAKI,SAASC,MACzB,KAAEA,GAASC,EAAAA,GAAqBF,GAEhCG,EAAWL,EAAEG,GACbG,EAAQN,EAACO,EAAAA,GAAAP,EACb,CAAAQ,GAAA,SAAAC,OAAA,CAAAJ,SAAcA,MAEVK,EAAUV,EAACO,EAAAA,GAAAP,EAAC,CAAAQ,GAAA,SAAAC,OAAA,CAAAJ,SAAcA,MAC1BM,EAAcX,EAACO,EAAAA,GAAAP,EACnB,CAAAQ,GAAA,SAAAC,OAAA,CAAAJ,SAA0BA,MAG5B,OACEO,EAAAA,EAAAA,KAACC,EAAAA,GAAG,CACFC,OAAQf,EAAYe,OACpBR,MAAOA,EACPI,QAASA,EACTC,YAAaA,EACbI,OAAQjB,EAAKI,SAASc,gBAAgBC,WACtC,EA6CN,UA9BqEC,IAG/D,IAHgE,KACpEpB,EAAI,YACJC,GACDmB,EACC,MAAMC,GAAWC,EAAAA,EAAAA,MAYjB,OAVAC,EAAAA,EAAAA,YAAU,KACRF,GAASG,EAAAA,EAAAA,OACTH,GAASI,EAAAA,EAAAA,IAAYzB,EAAKI,SAASC,QAKnCqB,EAAAA,EAAAA,UAAS,WAAY,CAAEC,SAAS,GAAO,GACtC,CAAC3B,EAAKI,SAASC,KAAMgB,KAEjBP,EAAAA,EAAAA,KAAChB,EAAI,CAACE,KAAMA,EAAMC,YAAaA,GAAe,C","sources":["webpack://@metamask/snaps-directory/./src/pages/{Category.name}/installed.tsx"],"sourcesContent":["import { t } from '@lingui/macro';\nimport { useLingui } from '@lingui/react';\nimport { graphql, navigate } from 'gatsby';\nimport type { FunctionComponent } from 'react';\nimport { useEffect } from 'react';\n\nimport { SEO } from '../../components';\nimport type { RegistrySnapCategory } from '../../constants';\nimport { SNAP_CATEGORY_LABELS } from '../../constants';\nimport { setCategory, toggleInstalled } from '../../features';\nimport { useDispatch } from '../../hooks';\nimport type { Fields } from '../../utils';\n\nexport type CategoryInstalledProps = {\n  pageContext: {\n    locale: string;\n  };\n  data: {\n    category: Fields<Queries.Category, 'name' | 'installedBanner'>;\n  };\n};\n\nconst Head: FunctionComponent<CategoryInstalledProps> = ({\n  data,\n  pageContext,\n}) => {\n  const { _ } = useLingui();\n\n  const category = data.category.name as RegistrySnapCategory;\n  const { name } = SNAP_CATEGORY_LABELS[category];\n\n  const nameText = _(name);\n  const title = _(\n    t`Installed ${nameText} Snaps on the MetaMask Snaps Directory`,\n  );\n  const ogTitle = _(t`Installed ${nameText} Snaps`);\n  const description = _(\n    t`Browse your installed ${nameText} Snaps on the MetaMask Snaps Directory`,\n  );\n\n  return (\n    <SEO\n      locale={pageContext.locale}\n      title={title}\n      ogTitle={ogTitle}\n      description={description}\n      banner={data.category.installedBanner.publicURL}\n    />\n  );\n};\n\n/**\n * This page is used to redirect to the main page, while setting the category\n * filter to the current category, and only showing installed snaps.\n *\n * This page is reachable at `/{category}/installed`.\n *\n * @param props - The component props.\n * @param props.data - The page data.\n * @param props.pageContext - The page context.\n * @returns The rendered component.\n */\nconst CategoryInstalled: FunctionComponent<CategoryInstalledProps> = ({\n  data,\n  pageContext,\n}) => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(toggleInstalled());\n    dispatch(setCategory(data.category.name as RegistrySnapCategory));\n\n    // According to the type definition, `navigate` returns a promise, but in\n    // practice it does not.\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    navigate('/explore', { replace: true });\n  }, [data.category.name, dispatch]);\n\n  return <Head data={data} pageContext={pageContext} />;\n};\n\nexport const query = graphql`\n  query ($id: String) {\n    category(id: { eq: $id }) {\n      name\n      installedBanner {\n        publicURL\n      }\n    }\n  }\n`;\n\nexport default CategoryInstalled;\n"],"names":["Head","_ref","data","pageContext","_","useLingui","category","name","SNAP_CATEGORY_LABELS","nameText","title","i18n","id","values","ogTitle","description","_jsx","SEO","locale","banner","installedBanner","publicURL","_ref2","dispatch","useDispatch","useEffect","toggleInstalled","setCategory","navigate","replace"],"sourceRoot":""}